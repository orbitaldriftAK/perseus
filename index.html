<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rooming List</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }
        table {
            border-collapse: collapse;
            width: 600px;
            background: white;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid black;
            padding: 5px;
            text-align: center;
        }
        input {
            width: 100%;
            border: none;
            outline: none;
            text-align: center;
        }
        .small-input {
            width: 30px;
        }
    </style>
</head>
<body onload="setInitialFocus()">

<table>
    <thead>
        <tr>
            <th>Guest Name</th>
            <th>#A</th>
            <th>#C</th>
            <th>Check-in</th>
            <th>Check-out</th>
            <th>Reservation Status</th>
        </tr>
    </thead>
    <tbody>
        <!-- 10 rows for room entries -->
        <script>
            for (let i = 0; i < 10; i++) {
                document.write(`
                    <tr>
                        <td><input type="text" class="guest-name"></td>
                        <td><input type="number" class="small-input adults" min="0"></td>
                        <td><input type="number" class="small-input children" min="0"></td>
                        <td><input type="date"></td>
                        <td><input type="date"></td>
                        <td><input type="text" value="RES" readonly></td>
                    </tr>
                `);
            }
        </script>
    </tbody>
</table>

<script>
    function setInitialFocus() {
        document.querySelector('.guest-name').focus();
    }

    document.addEventListener('keydown', function(event) {
        let inputs = Array.from(document.querySelectorAll("input"));
        let index = inputs.indexOf(document.activeElement);
        
        if (event.key === "Enter") {
            event.preventDefault();
            if (index >= 0 && index < inputs.length - 1) {
                inputs[index + 1].focus();
            }
        }

        if (event.key === "ArrowDown" || event.key === "ArrowRight") {
            event.preventDefault();
            if (index < inputs.length - 1) {
                inputs[index + 1].focus();
            }
        }

        if (event.key === "ArrowUp" || event.key === "ArrowLeft") {
            event.preventDefault();
            if (index > 0) {
                inputs[index - 1].focus();
            }
        }
    });

    document.addEventListener('input', function(event) {
        if (event.target.classList.contains("adults") || event.target.classList.contains("children")) {
            let row = event.target.closest("tr");
            let adults = parseInt(row.querySelector(".adults").value) || 0;
            let children = parseInt(row.querySelector(".children").value) || 0;
            
            if (adults + children > 6) {
                alert("Max occupancy exceeded");
                row.querySelector(".adults").value = "";
                row.querySelector(".children").value = "";
            }
        }
    });
</script>

</body>
</html>
